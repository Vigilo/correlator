# In another shell
( PATH=/sbin:$PATH; PYTHONPATH=. runsvdir service; )

python ./extra/bootstrap.py
./bin/buildout
# That node thing should be configured in /etc/ejabberd/ejabberdctl.cfg
# Mandriva doesn't define a default, and ends up with inconsistent values.
sudo -u ejabberd -H /usr/sbin/ejabberdctl --node ejabberd@"$(hostname -s)" register correlator localhost coloration
sudo -u ejabberd -H /usr/sbin/ejabberdctl --node ejabberd@"$(hostname -s)" register correlator.tests localhost coloration
sudo -u ejabberd -H /usr/sbin/ejabberdctl --node ejabberd@"$(hostname -s)" register esper localhost prosper
./bin/python /usr/bin/nosetests -v tests/
./bin/python /usr/bin/pylint --rcfile=extra/pylintrc src/vigilo
./bin/python /usr/bin/ipython
./bin/python /usr/bin/twistd -ny ./src/vigilo/corr/twisted_service.tac
# memdump comes with libmemcached 0.30+
MEMCACHED_SERVERS=localhost:11215 memdump

# Global XML catalog
xmlcatalog --add uri http://www.codesynthesis.com/xmlns/xsstl \
file:///home/who/var/co/git-svn/esper/xsstl-1.0.0/xsstl.xsd /etc/xml/catalog

# Two ways to run the twisted tests
./bin/python ./tests/runtests.py \
		--with-coverage --cover-erase --cover-inclusive \
		tests.test_pubsub:XmppClient.testForwarders
VIGILO_SETTINGS_MODULE=settings_tests ./bin/trial -e  \
		tests.test_pubsub.XmppClient.testForwarders

Pubsub monitoring
	http://x60br.berlios.de/

Pubsub clients in python
	twisted + wokkel
		Use wokkel.pubsub.PubSubClient .
		PubSubResource and PubSubService are for servers.
	PubSubClient (not the same as wokkel's)
		Affero
		http://github.com/Warbo/pubsubclient
		http://pubsubclient.sourceforge.net/
	kamaelia + headstock
		http://trac.defuze.org/wiki/headstock

The current solution, wokkel, works well.

Pubsub servers
	ejabberd 2.0.4+ (in mandriva 2009.1, but not 2009.0)
		http://www.process-one.net/en/ejabberd/release_notes/release_note_ejabberd_2.0.4/
		PubSub: Allow node creation without configure item

	ejabber + idavoll (based on wokkel)
		http://www.josephguhlin.com/blog/archives/2007/04/10/on-being-late-to-the-party-or-pubsub-jabber-and-pain/

The current solution, plain ejabberd, works well.


